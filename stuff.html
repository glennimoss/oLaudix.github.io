<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="http://code.jquery.com/qunit/qunit-1.16.0.css">
<link rel="stylesheet" href="bootstrap.min.css">
<link rel="stylesheet" href="custom.css">
<title>Tap Titans Stuff</title>
  <!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>-->
</head>
<body>
	<div style="float: left; width: 180px;">
		<ul class="nav nav-tabs nav-stacked">
			<li><a href=".">Home</a></li>
			<li><a href="TTcalc.html">Tap Titans Calculator</a></li>
			<li><a href="stuff.html">Tap Titans usefull stuff</a></li>
			<li><a href="MCcalc.html">Mine Clicker Calculator</a></li>
		</ul>
	</div>
	<div class="wrapper" style="display: inline-block;">
		<div style="width: 500px; display: inline-block; vertical-align: top;">
			<div class="panel panel-success">
				<div class="panel-heading">Stage Base Gold and HP</div>
				<div id="output" class="panel-body">
					<div>Stage: <input type="text" id="stage" value="1"></div>
					<div id="stage-result"></div>
				</div>
			</div>
		</div>
		<div style="width: 500px; display: inline-block; align: right;">
			<div class="panel panel-primary">
				<div class="panel-heading">Hero Death Chance</div>
				<div id="death-chance-table" class="panel-body">
					<div id="dthchnctbl"></div>
				</div>
			</div>
		</div>
	</div>
  
  
<script type="text/javascript" src="jquery-latest.min.js"></script>
<script type="text/javascript" src="bootstrap.min.js"></script>

<script language="javascript">/* Write JavaScript here */
$(window).load(
	function start()
	{ 
		$("#stage-result").html("Stage " + $("#stage").val() + " base HP: " + GetStageBaseHP($("#stage").val()) + "<br>");
		$("#stage-result").append("Stage " + $("#stage").val() + " base Gold: " + GetStageBaseGold($("#stage").val()) + "<br>");
		populateHDT();
	}
);

$( "#stage" ).change(function() {
	$("#stage-result").html("Stage " + $("#stage").val() + " base HP: " + GetStageBaseHP($("#stage").val()) + "<br>");
	$("#stage-result").append("Stage " + $("#stage").val() + " base Gold: " + GetStageBaseGold($("#stage").val()) + "<br>");
});

function GetStageBaseHP(stage)
{
     return ((18.5 * Math.pow(1.57, Math.min(stage, 156))) * Math.pow(1.17, Math.max((stage - 156),0)));
}

function GetStageBaseGold(stage)
{
    var num2 = GetStageBaseHP($("#stage").val()) * (0.02 + (0.00045 * Math.min(stage, 150.0)));
    //return (num2 * Math.Ceiling((double) (1.0 + PlayerModel.instance.GetStatBonus(BonusType.GoldAll))));
	return num2;
}

function populateHDT()
{
	var table = "\"Early start\" strategy: <br>";
	table += "<table class=\"table table-striped\">";
	table += "<tbody><tr><th>Second of the fight</th><th>Big Boss</th><th>Small Boss</th></tr>"
	for (var x = 1; x <= 30; x++)
	{
		table += "<tr><td>" + x + "</td><td>" + ( x < 5 || x > 25 ? 0 : Math.round(( 0.2 * ((1/21) + ((1/21) * (x - 5))) )*1000)/10 ) + "%</td><td>" + ( x < 5 || x > 25 ? 0 : Math.round(( 0.05 * ((1/21) + ((1/21) * (x - 5))) )*1000)/10 ) + "%</td></tr>"
	}
	table += "</tbody></table>";
	
	table += "\"Late start\" strategy: <br>";
	table += "<table class=\"table table-striped\">";
	table += "<tbody><tr><th>Second of the fight</th><th>Big Boss</th><th>Small Boss</th></tr>"
	for (var x = 1; x <= 30; x++)
	{
		table += "<tr><td>" + x + "</td><td>" + ( x < 5 || x > 25 ? 0 : Math.round(( 0.2 * ((1/21) + ((1/21) * (25 - x))) )*1000)/10 ) + "%</td><td>" + ( x < 5 || x > 25 ? 0 : Math.round(( 0.05 * ((1/21) + ((1/21) * (25 - x))) )*1000)/10 ) + "%</td></tr>"
	}
	table += "</tbody></table>";
	
	$("#dthchnctbl").html(table);
}

</script></body></html>